<lib-page-content [title]="'stockIn.TaxList' | translate" [subTitle]="'stockIn.TaxList' | translate">

    <div [formGroup]="stockInForm" class="stockInForm_header">
      <!-- <p class="title test">{{ 'journal_entry_header' | translate }}</p> -->
      <div class="grid">
        <div class="md:col-2 my-2">
          <lib-label [appControl]="stockInForm.controls['code']">
            {{ 'stockIn.code' | translate }}
          </lib-label>
          <lib-text-input
            placeholder="{{ 'stockIn.code' | translate }}"
            formControlName="code"
          ></lib-text-input>
          <lib-field-validations [appControl]="stockInForm.controls['code']"></lib-field-validations>
        </div>
        <div class="md:col-2 my-2">
          <lib-label [appControl]="stockInForm.controls['receiptDate']">
            {{ 'stockIn.date' | translate }}
          </lib-label>
          <lib-calendar formControlName="receiptDate"></lib-calendar>
          <lib-field-validations [appControl]="stockInForm.controls['receiptDate']"></lib-field-validations>
        </div>
    
        <div class="md:col-2 my-2">
          <lib-label [appControl]="stockInForm.controls['sourceDocumentId']">
            {{ 'stockIn.docType' | translate }}
          </lib-label>
          <lib-select
            formControlName="sourceDocumentId"
            [options]="[]"
            optionValue="id"
            optionLabel="name"
            [selectedValue]="stockInForm.controls['sourceDocumentId'].value"
          >
          </lib-select>
          <lib-field-validations [appControl]="stockInForm.controls['sourceDocumentId']"></lib-field-validations>
        </div>
        <div class="md:col-3 my-2">
          <lib-label [appControl]="stockInForm.controls['sourceDocumentType']">
            {{ 'stockIn.sourceDoc' | translate }}
          </lib-label>
          <lib-select
            formControlName="sourceDocumentType"
            [options]="[]"
            optionValue="id"
            optionLabel="name"
            placeholder="{{ 'stockIn.sourceDoc' | translate }}"
            [selectedValue]="stockInForm.controls['sourceDocumentType'].value"
          >
          </lib-select>
          <lib-field-validations [appControl]="stockInForm.controls['sourceDocumentType']"></lib-field-validations>
        </div>
        <div class="md:col-3 my-2">
          <lib-label [appControl]="stockInForm.controls['warehouseId']">
            {{ 'stockIn.warehouse' | translate }}
          </lib-label>
          <lib-select
            formControlName="warehouseId"
            [options]="[]"
            optionValue="id"
            optionLabel="name"
            placeholder="{{ 'stockIn.warehouse' | translate }}"
            [selectedValue]="stockInForm.controls['warehouseId'].value"
          >
          </lib-select>
          <lib-field-validations [appControl]="stockInForm.controls['warehouseId']"></lib-field-validations>
        </div>
        <div class="md:col-6 my-2">
          <div>
            <lib-label [appControl]="stockInForm.controls['notes']">
              {{ 'stockIn.notes' | translate }}
            </lib-label>
          </div>
    
          <textarea
            pInputTextarea
            style="width: 100%"
            rows="1"
            formControlName="notes"
            placeholder="{{ 'stockIn.notes' | translate }}"
          ></textarea>
        </div>
      </div>
    </div>
    
    <div class="my-2">
      <p-table
        [value]="stockIn['controls']"
        dataKey="id"
        styleClass="p-datatable-gridlines p-datatable-striped"
        [tableStyle]="{ 'min-width': '50rem' }"
      >
        <ng-template pTemplate="header">
          <tr>
            <th>{{ 'stockIn.barcode' | translate }}</th>
            <th>{{ 'stockIn.itemCode' | translate }}</th>
            <th>{{ 'stockIn.itemDescription' | translate }}</th>
            <th>{{ 'stockIn.UOM' | translate }}</th>
            <th>{{ 'stockIn.QTY' | translate }}</th>
            <th>{{ 'stockIn.cost' | translate }}</th>
            <th>{{ 'stockIn.subTotal' | translate }}</th>
            <th>{{ 'stockIn.tracking' | translate }}</th>
            <th>{{ 'stockIn.note' | translate }}</th>
            <th>{{ 'stockIn.actions' | translate }}</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-stockInFormGroup let-editing="editing" let-i="rowIndex">
          <tr [formGroup]="stockInFormGroup">
            <td [pEditableColumn]="stockInFormGroup.controls['barcode']" pEditableColumnField="barcode">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <lib-text-input
                    placeholder="{{ 'stockIn.barcode' | translate }}"
                    formControlName="barcode"
                  ></lib-text-input>
                </ng-template>
                <ng-template pTemplate="output">
                  {{ stockInFormGroup.controls['barcode']?.value }}
                </ng-template>
              </p-cellEditor>
              <lib-field-validations
                [appControl]="stockInFormGroup.controls['barcode']"
              ></lib-field-validations>
            </td>
            <!--  -->
    
            <td [pEditableColumn]="stockInFormGroup.controls['barcode']" pEditableColumnField="barcode">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <lib-text-input
                    placeholder="{{ 'stockIn.itemCode' | translate }}"
                    formControlName="barcode"
                  ></lib-text-input>
                </ng-template>
                <ng-template pTemplate="output">
                  {{ stockInFormGroup.controls['barcode']?.value }}
                </ng-template>
              </p-cellEditor>
              <lib-field-validations
                [appControl]="stockInFormGroup.controls['barcode']"
              ></lib-field-validations>
            </td>
            <!--  -->
            <td [pEditableColumn]="stockInFormGroup.controls['description']" pEditableColumnField="description">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <lib-text-input
                    placeholder="{{ 'stockIn.itemDescription' | translate }}"
                    formControlName="description"
                  ></lib-text-input>
                </ng-template>
                <ng-template pTemplate="output">
                  {{ stockInFormGroup.controls['description']?.value }}
                </ng-template>
              </p-cellEditor>
              <lib-field-validations
                [appControl]="stockInFormGroup.controls['description']"
              ></lib-field-validations>
            </td>
            <!--  -->
            <!--  -->
    
            <td [pEditableColumn]="stockInFormGroup.controls['uomId']" pEditableColumnField="uomId">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <lib-text-input
                    placeholder="{{ 'stockIn.UOM' | translate }}"
                    formControlName="uomId"
                  ></lib-text-input>
                </ng-template>
                <ng-template pTemplate="output">
                  {{ stockInFormGroup.controls['uomId']?.value }}
                </ng-template>
              </p-cellEditor>
              <lib-field-validations
                [appControl]="stockInFormGroup.controls['uomId']"
              ></lib-field-validations>
            </td>
    
            <!--  -->
    
            <td [pEditableColumn]="stockInFormGroup.controls['quantity']" pEditableColumnField="quantity">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <lib-text-input
                    placeholder="{{ 'stockIn.QTY' | translate }}"
                    formControlName="quantity"
                  ></lib-text-input>
                </ng-template>
                <ng-template pTemplate="output">
                  {{ stockInFormGroup.controls['quantity']?.value }}
                </ng-template>
              </p-cellEditor>
              <lib-field-validations
                [appControl]="stockInFormGroup.controls['quantity']"
              ></lib-field-validations>
            </td>
            <!--  -->
    
            <td [pEditableColumn]="stockInFormGroup.controls['cost']" pEditableColumnField="cost">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <lib-text-input
                    placeholder="{{ 'stockIn.cost' | translate }}"
                    formControlName="cost"
                  ></lib-text-input>
                </ng-template>
                <ng-template pTemplate="output">
                  {{ stockInFormGroup.controls['cost']?.value }}
                </ng-template>
              </p-cellEditor>
              <lib-field-validations
                [appControl]="stockInFormGroup.controls['cost']"
              ></lib-field-validations>
            </td>
            <!--  -->
            <td [pEditableColumn]="stockInFormGroup.controls['barcode']" pEditableColumnField="barcode">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <lib-text-input
                    placeholder="{{ 'stockIn.Subtotal' | translate }}"
                    formControlName="barcode"
                  ></lib-text-input>
                </ng-template>
                <ng-template pTemplate="output">
                  {{ stockInFormGroup.controls['barcode']?.value }}
                </ng-template>
              </p-cellEditor>
              <lib-field-validations
                [appControl]="stockInFormGroup.controls['barcode']"
              ></lib-field-validations>
            </td>
            <!--  -->
            <td [pEditableColumn]="stockInFormGroup.controls['trackingType']" pEditableColumnField="trackingType">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <lib-text-input
                    placeholder="{{ 'stockIn.tracking' | translate }}"
                    formControlName="trackingType"
                  ></lib-text-input>
                </ng-template>
                <ng-template pTemplate="output">
                  {{ stockInFormGroup.controls['trackingType']?.value }}
                </ng-template>
              </p-cellEditor>
              <lib-field-validations
                [appControl]="stockInFormGroup.controls['trackingType']"
              ></lib-field-validations>
            </td>
            <!--  -->
            <td [pEditableColumn]="stockInFormGroup.controls['notes']" pEditableColumnField="notes">
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <lib-text-input
                    placeholder="{{ 'stockIn.note' | translate }}"
                    formControlName="notes"
                  ></lib-text-input>
                </ng-template>
                <ng-template pTemplate="output">
                  {{ stockInFormGroup.controls['notes']?.value }}
                </ng-template>
              </p-cellEditor>
              <lib-field-validations
                [appControl]="stockInFormGroup.controls['notes']"
              ></lib-field-validations>
            </td>
            <td>
              <img src="assets/images/table/edit.svg" alt="" (click)="onEdit(stockInFormGroup)" />
            </td>
            <!--  -->
          </tr>
        </ng-template>
      </p-table>
      <div class="add_new  flex justify-content-start">
        <lib-button (onClick)="addLineStockIn()" className="outline-primary">
          {{ 'itemType.add_new' | translate }}
        </lib-button>
      </div>
    </div>
    
    <div class="grid">
      <div class="md:col-12 my-3 grid flex justify-content-end">
        <div class="md:col-4 grid flex justify-content-end">
          <div class="md:col-6">
            <lib-button-micro
              title="{{ 'cancel' | translate }}"
              nameClass="cancel"
              widthNumber="100%"
              (click)="onCancel()"
            >
            </lib-button-micro>
          </div>
          <div class="md:col-6">
            <lib-button-micro
              title="{{ 'Save' | translate }}"
              nameClass="save"
              widthNumber="100%"
              (click)="onSave()"
            >
            </lib-button-micro>
          </div>
        </div>
      </div>
    </div>
    </lib-page-content>