<lib-page-content
  [title]="'attributeDefinition.TaxList' | translate"
  [subTitle]="'attributeDefinitionTaxList' | translate">
  <div class="bank">
    <div class="card_micro">
      <div [formGroup]="attrFormGroup" class="entry_header">
        <div class="grid">
          <div class="col-12 md:col-4">
            <lib-form-group>
              <lib-label [appControl]="attrFormGroup.controls['id']" class="body_b14 mb-2 ms-4">
                {{ 'attributeDefinition.attributeId' | translate }}
              </lib-label>
              <lib-text-input
                placeholder="{{ 'attributeDefinition.attributeId' | translate }}"
                formControlName="id"
                [readOnly]="true"
              ></lib-text-input>
            </lib-form-group>
          </div>
          <!--  -->
          <div class="col-12 md:col-4">
            <lib-form-group>
              <lib-label [appControl]="attrFormGroup.controls['nameEn']" class="body_b14 mb-2 ms-4">
                {{ 'attributeDefinition.attributeNameEn' | translate }}
              </lib-label>
              <lib-text-input
                placeholder="{{ 'attributeDefinition.attributeNameEn' | translate }}"
                formControlName="nameEn"
                [readOnly]="true"
              ></lib-text-input>
            </lib-form-group>
          </div>
          <div class="col-12 md:col-4">
            <lib-form-group>
              <lib-label [appControl]="attrFormGroup.controls['nameAr']" class="body_b14 mb-2 ms-4">
                {{ 'attributeDefinition.attributeNameAr' | translate }}
              </lib-label>
              <lib-text-input
                placeholder="{{ 'attributeDefinition.attributeNameAr' | translate }}"
                formControlName="nameAr"
                [readOnly]="true"
              ></lib-text-input>
            </lib-form-group>
          </div>

        </div>
      </div>
    </div>
  </div>
  <div class="entry_table">
    <div class="card">
      <ng-container caption>
        <div class="">
          <div class="grid m-3 grid-cols-4 gap-2" >
          </div>
        </div>
      </ng-container>
      <p-table
        [value]="attrTableForm.controls"
        dataKey="id"
        styleClass="p-datatable-gridlines p-datatable-striped"
        [tableStyle]="{ 'min-width': '50rem' }"
      >

        <ng-template pTemplate="header">
          <tr>
            <th>{{ 'attributeDefinition.valueEn' | translate }}</th>
            <th>{{ 'attributeDefinition.valueAr' | translate }}</th>
            <th>{{ 'attributeDefinition.status' | translate }}</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-attrTableForm let-i="rowIndex">
  <tr
    [formGroup]="attrTableForm"
    [ngClass]="{'duplicate-row': attrTableForm?.controls['isDuplicate']?.value}"
  >


    <td [pEditableColumn]="attrTableForm?.controls['nameEn']" pEditableColumnField="nameAr">
      <p-cellEditor>
        <ng-template pTemplate="input">
          <lib-text-input
            placeholder="{{ 'attributeDefinition.valueEn' | translate }}"
            formControlName="nameEn"
            [readOnly]="true"
          ></lib-text-input>
        </ng-template>
        <ng-template pTemplate="output">
          {{ attrTableForm?.controls['nameEn']?.value }}
        </ng-template>
      </p-cellEditor>

    </td>

    <td [pEditableColumn]="attrTableForm?.controls['nameAr']" pEditableColumnField="nameEn">
      <p-cellEditor>
        <ng-template pTemplate="input">
          <lib-text-input
            placeholder="{{ 'attributeDefinition.valueEn' | translate }}"
            formControlName="nameAr"
            [readOnly]="true"
          ></lib-text-input>
        </ng-template>
        <ng-template pTemplate="output">
          {{ attrTableForm?.controls['nameAr']?.value}}
        </ng-template>
      </p-cellEditor>

    </td>
    <td>
      <div class="flex align-items-center">
        <lib-input-switch  [id]="i" [disabled]="true" formControlName="isActive"></lib-input-switch>
        <span [ngClass]="{'active-true': attrTableForm?.controls['isActive']?.value}" class="ml-2">
          {{ attrTableForm?.controls['isActive']?.value ? ('global.activeOn' | translate) : ('global.activeOff' | translate) }}
        </span>
      </div>
    </td>
  </tr>
</ng-template>
      </p-table>
    </div>
  </div>
</lib-page-content>
