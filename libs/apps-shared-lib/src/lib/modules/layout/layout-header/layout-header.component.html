<nav>
  <div class="card">
    <div
      class="header_bussiness"
      [class.header_bussinessCont]="(generalService.sendSideBarState | async) === true"
    >
      <div class="header_content">
        <p-menubar>
          <ng-template pTemplate="start">
            <div class="start_nav">
              <div>
                <lib-bread-crumb></lib-bread-crumb>
              </div>
            </div>
          </ng-template>
          <ng-template pTemplate="end">
            <div class="header_sec">
              <ng-container [formGroup]="coBrForm">
                <div class="modules">
                  <lib-form-group>
                    <lib-select
                      formControlName="companyId"
                      placeholder="{{ 'Layout.DefaultCompany' | translate }}"
                      [options]="companyList"
                      [selectedValue]="coBrForm.controls['companyId'].value"
                      optionLabel="name"
                      optionValue="id"
                      [readOnly]="true"
                    >
                    </lib-select>
                  </lib-form-group>
                </div>
                <div class="modules">
                  <lib-form-group>
                    <lib-select
                      formControlName="branchId"
                      placeholder="{{ 'Layout.DefaultBranch' | translate }}"
                      [options]="branchList"
                      [selectedValue]="coBrForm.controls['branchId'].value"
                      optionLabel="name"
                      optionValue="id"
                      [readOnly]="true"
                    >
                    </lib-select>
                  </lib-form-group>
                </div>
              </ng-container>
              <div class="modules">
                <button class="btn_mod_select" (click)="openDialog()">
                  <img src="assets/images/header-icons/change-app.svg" alt="" />
                  <!-- <i class="icon fab fa-microsoft"></i> -->
                  <!-- {{ moduleName }} -->
                </button>
              </div>
              <div class="end_header_sec">
                <div class="link_sec">
                  <div class="count">10</div>
                  <button>
                    <img src="assets/images/header-icons/notification.svg" alt="" />
                  </button>
                </div>

                <div class="profaile_sec">
                  <button (click)="cardDrob()" class="btn_profaile">
                    <lib-attachment-viewer
                      *ngIf="userPhoto"
                      [attachmentId]="userPhoto"
                      className="headerImg"
                    ></lib-attachment-viewer>
                    <img *ngIf="!userPhoto" src="assets/images/users/avatar-logo.svg" />
                  </button>
                  <div class="profaile_card_drob" #profaile_card_drob *ngIf="showcard">
                    <div class="header_card card-items">
                      <div class="photo">
                        <lib-attachment-viewer
                          *ngIf="userPhoto"
                          [attachmentId]="userPhoto"
                          className="dropdown_img"
                        ></lib-attachment-viewer>
                        <img *ngIf="!userPhoto" src="assets/images/users/avatar-logo.svg" />
                      </div>
                      <div class="title">
                        <p class="name">{{ userName }}</p>
                        <p class="description">
                          {{ userEmail }}
                        </p>
                      </div>
                    </div>
                    <div class="card-items">
                      <button class="profaile_link">
                        <p class="title">{{ 'Layout.MySubscription' | translate }}</p>
                      </button>
                      <button class="profaile_link">
                        <p class="title">{{ 'Layout.Myfavorite' | translate }}</p>
                      </button>
                    </div>
                    <div class="card-items">
                      <button class="profaile_link">
                        <p class="title">{{ 'Layout.Language' | translate }}</p>
                        <button class="lang_link" (click)="toggleLanguage()">
                          <p class="title">
                            {{ languageService.Lang === 'en' ? 'English' : 'عربى' }}
                          </p>
                          <img
                            [src]="
                              languageService.Lang === 'en'
                                ? 'assets/images/header-icons/lang-eng.svg'
                                : 'assets/images/header-icons/lang-arabic.svg'
                            "
                          />
                        </button> 
                      </button>
                      <button class="profaile_link">
                        <p class="title">{{ 'Layout.AccountSettings' | translate }}</p>
                      </button>
                    </div>
                    <div class="footer_card card-items">
                      <div class="logout">
                        <button class="log_link" (click)="logout()">
                          <p class="title">{{ 'Layout.logout' | translate }}</p>
                          <img src="assets/images/header-icons/Logout.svg" />
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ng-template>
        </p-menubar>
      </div>
    </div>
  </div>
</nav>
